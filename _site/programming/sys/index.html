<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>04 - Manipulating the File Tree • Tyler Abbot</title>
    
    <meta name="keywords" content="Python">
    
    
    	<!-- Twitter Cards -->
	<meta name="twitter:title" content="04 - Manipulating the File Tree">
	
	
	
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:image" content="https://tyler-abbot.github.io/images/mandelbrot4.png">
	
	<!-- Open Graph -->
	<meta property="og:locale" content="en_US">
	<meta property="og:type" content="article">
	<meta property="og:title" content="04 - Manipulating the File Tree">
	<meta property="og:description" content="">
	<meta property="og:url" content="https://tyler-abbot.github.io/programming/sys/">
	<meta property="og:site_name" content="Tyler Abbot">
	<meta property="og:image" content="https://tyler-abbot.github.io/images/pipo_logo.png">


    <link rel="canonical" href="https://tyler-abbot.github.io/programming/sys/">

    <link href="https://tyler-abbot.github.io/atom.xml" type="application/atom+xml" rel="alternate" title="Tyler Abbot Atom Feed">

    <link href="https://tyler-abbot.github.io/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <link rel="stylesheet" href="https://tyler-abbot.github.io/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="https://tyler-abbot.github.io/js/vendor/html5shiv.min.js"></script>
      <script src="https://tyler-abbot.github.io/js/vendor/respond.min.js"></script>
    <![endif]-->

  </head>

  <body id="js-body">
    <!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-PJ6HL4"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PJ6HL4');</script>
<!-- End Google Tag Manager -->

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-62675051-1', 'auto');
  ga('send', 'pageview');

</script>

    <!--[if lt IE 9]><div class="upgrade notice-warning"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

    <header id="masthead">
  <div class="inner-wrap">
    <a href="https://tyler-abbot.github.io/" class="site-title">Tyler Abbot</a>
    <nav role="navigation" class="menu top-menu">
        <ul class="menu-item">
	<li class="home"><a href="/">Tyler Abbot</a></li>
	
    
        
    
    <li><a href="https://tyler-abbot.github.io/about/" >About</a></li>
  
    
        
    
    <li><a href="https://tyler-abbot.github.io/cv/" >CV</a></li>
  
    
        
    
    <li><a href="https://tyler-abbot.github.io/teaching/" >Teaching</a></li>
  
    
        
    
    <li><a href="https://tyler-abbot.github.io/research/" >Research</a></li>
  
    
        
    
    <li><a href="https://tyler-abbot.github.io/programming/" >Programming</a></li>
  
    
        
    
    <li><a href="https://tyler-abbot.github.io/links/" >Links</a></li>
  
</ul>
    </nav>
  </div><!-- /.inner-wrap -->
</header><!-- /.masthead -->

<!--    <nav role="navigation" id="js-menu" class="sliding-menu-content">
  <h5>Tyler Abbot <span>Table of Contents</span></h5>
  <ul class="menu-item">
    <li>
      <a href="https://tyler-abbot.github.io/about/">
        <img src="https://tyler-abbot.github.io/images/papers1.png" alt="teaser" class="teaser">
        <div class="title">About</div>
        <p class="excerpt">A bit about me.</p>
      </a>
    </li><li>
      <a href="https://tyler-abbot.github.io/cv/">
        <img src="https://tyler-abbot.github.io/images/papers2.png" alt="teaser" class="teaser">
        <div class="title">CV</div>
        <p class="excerpt">My CV.</p>
      </a>
    </li><li>
      <a href="https://tyler-abbot.github.io/teaching/">
        <img src="https://tyler-abbot.github.io/images/papers3.png" alt="teaser" class="teaser">
        <div class="title">Teaching</div>
        <p class="excerpt">Courses I've taught or helped to teach.</p>
      </a>
    </li><li>
      <a href="https://tyler-abbot.github.io/research/">
        <img src="https://tyler-abbot.github.io/images/papers4.png" alt="teaser" class="teaser">
        <div class="title">Research</div>
        <p class="excerpt">Things I study.</p>
      </a>
    </li><li>
      <a href="https://tyler-abbot.github.io/programming/">
        <img src="https://tyler-abbot.github.io/images/papers5.png" alt="teaser" class="teaser">
        <div class="title">Programming</div>
        <p class="excerpt">Programming I do.</p>
      </a>
    </li><li>
      <a href="https://tyler-abbot.github.io/links/">
        <img src="https://tyler-abbot.github.io/images/papers5.png" alt="teaser" class="teaser">
        <div class="title">Links</div>
        <p class="excerpt">Sites I like.</p>
      </a>
    </li>
  </ul>
</nav>
<button type="button" id="js-menu-trigger" class="sliding-menu-button lines-button x2" role="button" aria-label="Toggle Navigation">
  <span class="nav-lines"></span>
</button>

<div id="js-menu-screen" class="menu-screen"></div>
 -->

    <div id="page-wrapper">
      <div id="main" role="main">
	<article class="wrap" itemscope itemtype="http://schema.org/Article">
		
		
  <nav class="breadcrumbs">
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="https://tyler-abbot.github.io" itemprop="url">
        <span itemprop="title">Home</span>
      </a> › 
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="https://tyler-abbot.github.io/programming/" itemprop="url">
        <span itemprop="title">programming</span>
      </a> › 
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="https://tyler-abbot.github.io/programming/python.html" itemprop="url">
        <span itemprop="title">python</span>
      </a>
    </span>
  </nav><!-- /.breadcrumbs -->

    <!--  <a href="https://tyler-abbot.github.io/programming/" itemprop="url"> -->

		<div class="page-title">
			<h1>04 - Manipulating the File Tree</h1>
		</div>
		<div class="inner-wrap">
			<div id="content" class="page-content" itemprop="articleBody">
				<nav class="toc">
<ul id="markdown-toc">
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#shutil-functions">Shutil Functions</a></li>
  <li><a href="#os-functions">OS Functions</a></li>
  <li><a href="#glob-functions">Glob Functions</a></li>
  <li><a href="#conclusion">Conclusion</a></li>
</ul>

</nav>

<p>I’ve recently been working on building a dataset from the Consumer Expenditure Survey and was so frustrated by the number of files to download that I decided to automate the process.  In doing so, I had to use several packages to identify files, create directories, and remove unnecessary junk.</p>

<h2 id="introduction">Introduction</h2>
<p>The <code>shutil</code> module, standing for ‘shell utility’, is part of the standard library.  It is a module containing many of the high level file operations that you would use from the standard Unix or Linux command line.  In particular, <code>shutil</code> is useful for generating directories, copying and moving files, and changing file names.  If you are hoping to automate any data gathering work, this will be super useful.</p>

<p>Along with <code>shutil</code>, you will probably also want the <code>os</code> module, which will allow you to dynamically define the file path seperator so your program works on any operating system, to create directories, and to rename files.  <code>os</code> allows you to interact directly with the operating system, so if you want to write truly modular code that deals with the file tree, you will need ot use it.</p>

<p>Finally, I used <code>glob</code> to parse file names and identify the ones I wanted to keep and the ones I wanted to replace.</p>

<h2 id="shutil-functions">Shutil Functions</h2>

<ul>
  <li>
    <p><strong><code>shutil.copy(src, dst)</code></strong> - Copy the contents of file <code>src</code> to a new file at <code>dst</code>.</p>
  </li>
  <li>
    <p><strong><code>shutil.copytree(src, dst)</code></strong> - Copy an entire directory tree “rooted” at source.  So this copies all the files and folders in <code>src</code> to a new folder at <code>dst</code>.</p>
  </li>
  <li>
    <p><strong><code>shutil.rmtree(path)</code></strong> - Remove an entire directory rooted at <code>path</code>.  This is nice if you would like to combine files and clean up after yourself.  For instance, if you download 100 zip files in different folders and need one file from within them, you can gather, copy or move it, and delete the zip.</p>
  </li>
  <li>
    <p><strong><code>shutil.move(src, dst)</code></strong> - Move a folder from <code>src</code> to <code>dist</code>.</p>
  </li>
</ul>

<h2 id="os-functions">OS Functions</h2>
<p>This package is massive, so I’m not even going to try to list the functions it has.  However, you will probably use the seperator function:</p>

<ul>
  <li><strong><code>os.sep</code></strong> - Returns the file path seperator for the current operating system.</li>
</ul>

<h2 id="glob-functions">Glob Functions</h2>
<p>Glob returns all of the path names that match some specified pattern.  The functions use the glob rules defined by the Unix shell.  If you don’t know these rules, <a href="https://en.wikipedia.org/wiki/Glob_(programming)#Syntax" target="_blank">check them out on wikipedia</a>.</p>

<ul>
  <li>
    <p><strong><code>glob.glob(pathname)</code></strong> - Returns a list of all pathnames in the pwd that match the glob rules given in <code>pathname</code>.  For instance, “jo*” is a right wildcard and matches anything that starts with “jo”, eg “joe”, “joseph”, etc., but not “dojo”.</p>
  </li>
  <li>
    <p><strong><code>glob.iglob(pathname)</code></strong> - Returns the same thing, but as an iterator.  This is great, as it doesn’t store all of the file names, but you can recover them easily.</p>
  </li>
</ul>

<h2 id="conclusion">Conclusion</h2>
<p>Yes, this is a ridiculously short and unsatisfactory blog post.  You’ll understand why as you start working with these packages.  They are massive (except glob) and very powerful.  It turns out I bit off more than I could chew by deciding to write this post, but hey, maybe someone will use these functions and benefit from having them all in one place!</p>

				<hr />
				<footer class="page-footer">
					


<div class="author-image">
	<img src="https://tyler-abbot.github.io/images/bio-photo2.jpg" alt="Tyler Abbot">
</div><!-- ./author-image -->
<div class="author-content">
	<h3 class="author-name" >Written by <span itemprop="author">Tyler Abbot</span></h3>
	<p class="author-bio">Nerd extraordinaire.</p>
</div><!-- ./author-content -->
					<div class="inline-btn">
	<a class="btn-social twitter" href="https://twitter.com/intent/tweet?text=04%20-%20Manipulating%20the%20File%20Tree&amp;url=https://tyler-abbot.github.io/programming/sys/&amp;via=" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i> Share on Twitter</a>
	<a class="btn-social facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://tyler-abbot.github.io/programming/sys/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i> Share on Facebook</a>
	<a class="btn-social google-plus"  href="https://plus.google.com/share?url=https://tyler-abbot.github.io/programming/sys/" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i> Share on Google+</a>
</div><!-- /.share-this -->
					<div class="page-meta">
	<p>Updated <time datetime="2015-09-20T14:09:19Z" itemprop="datePublished">September 20, 2015</time></p>
</div><!-- /.page-meta -->
				</footer><!-- /.footer -->
				<aside>
					
				</aside>
			</div><!-- /.content -->
		</div><!-- /.inner-wrap -->
		
	</article><!-- ./wrap -->
</div><!-- /#main -->

      <footer role="contentinfo" id="site-footer">
	<nav role="navigation" class="menu bottom-menu">
		<ul class="menu-item">
		
      
        
      
			<li><a href="https://tyler-abbot.github.io" ></a></li>
		
		</ul>
	</nav><!-- /.bottom-menu -->
	<p class="copyright">&#169; 2016 <a href="https://tyler-abbot.github.io">Tyler Abbot</a> powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> + <a href="http://mmistakes.github.io/skinny-bones-jekyll/" rel="nofollow">Skinny Bones</a>.</p>
</footer>
    </div>

    <script src="https://tyler-abbot.github.io/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="https://tyler-abbot.github.io/js/main.js"></script>

  </body>

</html>
